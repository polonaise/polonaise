project(polonaise)
cmake_minimum_required(VERSION 2.8)
set(CMAKE_MODULE_PATH ${CMAKE_SOURCE_DIR} ${CMAKE_MODULE_PATH})

# Required library - Boost
find_package(Boost REQUIRED)
message(STATUS "BOOST_INCLUDE_DIRS  : ${Boost_INCLUDE_DIRS}")

# Required library - Thrift + Thrift compiler
find_package(Thrift COMPONENTS library compiler REQUIRED)
message(STATUS "THRIFT_INCLUDE_DIRS : ${THRIFT_INCLUDE_DIRS}")
message(STATUS "THRIFT_LIBRARIES    : ${THRIFT_LIBRARIES}")
message(STATUS "THRIFT_COMPILER     : ${THRIFT_COMPILER}")

# Make binaries in the build tree and in install tree use proper rpaths to shared libraries
set(CMAKE_BUILD_WITH_INSTALL_RPATH true)
set(CMAKE_INSTALL_RPATH_USE_LINK_PATH true)

# Path to code generated by Thrift
set(GENERATED_CODE ${CMAKE_BINARY_DIR}/generated-code)

add_subdirectory(src)
